<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Assistant</title>
    <style>
        :root {
            --primary-color: #4F46E5;
            --primary-hover: #4338CA;
            --secondary-color: #F3F4F6;
            --text-color: #1F2937;
            --light-text: #6B7280;
            --border-color: #E5E7EB;
            --success-color: #10B981;
            --bg-color: #F9FAFB;
            --white: #FFFFFF;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            width: 260px;
            background-color: var(--white);
            border-right: 1px solid var(--border-color);
            padding: 1.5rem 1rem;
            display: flex;
            flex-direction: column;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            padding-left: 0.5rem;
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.75rem;
            border-radius: var(--radius);
            color: var(--text-color);
            text-decoration: none;
            transition: background-color 0.2s ease;
        }

        .nav-item:hover {
            background-color: var(--secondary-color);
        }

        .nav-item.active {
            background-color: #EEF2FF;
            color: var(--primary-color);
            font-weight: 500;
        }

        .nav-icon {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }

        .main-content {
            flex: 1;
            height: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
        }

        .chat-container {
            background-color: var(--white);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            height: 100%;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            display: flex;
            align-items: center;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background-color: var(--white);
            font-weight: 600;
        }

        .chat-header-icon {
            width: 1.25rem;
            height: 1.25rem;
            margin-right: 0.75rem;
            color: var(--primary-color);
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 0.875rem 1.25rem;
            border-radius: var(--radius);
            position: relative;
            font-size: 0.9375rem;
            line-height: 1.5;
        }

        .user-message {
            align-self: flex-end;
            background-color: var(--primary-color);
            color: var(--white);
        }

        .ai-message {
            align-self: flex-start;
            background-color: var(--secondary-color);
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--light-text);
            margin-top: 0.5rem;
            opacity: 0.8;
            text-align: right;
        }

        .user-message .message-time {
            color: rgba(255, 255, 255, 0.8);
        }

        .chat-input-container {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border-color);
            background-color: var(--white);
        }

        .chat-input-wrapper {
            display: flex;
            align-items: center;
            background-color: var(--secondary-color);
            border-radius: var(--radius);
            padding: 0.5rem;
            gap: 0.5rem;
        }

        .chat-input-area {
            flex: 1;
            position: relative;
        }

        .chat-input {
            width: 100%;
            resize: none;
            border: none;
            background: transparent;
            padding: 0.5rem;
            outline: none;
            font-size: 0.9375rem;
            color: var(--text-color);
            max-height: 150px;
        }

        .file-upload-btn,
        .send-btn {
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            border-radius: var(--radius);
            color: var(--light-text);
            transition: color 0.2s ease, background-color 0.2s ease;
        }

        .file-upload-btn:hover,
        .send-btn:hover {
            background-color: var(--border-color);
            color: var(--text-color);
        }

        .send-btn {
            color: var(--primary-color);
        }

        .send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .uploaded-files {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }

        .file-pill {
            display: flex;
            align-items: center;
            background-color: #EEF2FF;
            border-radius: 9999px;
            padding: 0.25rem 0.75rem 0.25rem 0.5rem;
            font-size: 0.8125rem;
            color: var(--primary-color);
            gap: 0.25rem;
        }

        .file-icon {
            font-size: 1rem;
        }

        .file-remove {
            margin-left: 0.25rem;
            font-size: 1.25rem;
            cursor: pointer;
            line-height: 1;
        }

        .loading-dots {
            display: flex;
            align-self: flex-start;
            background-color: var(--secondary-color);
            border-radius: var(--radius);
            padding: 1rem;
            gap: 0.5rem;
        }

        .loading-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--light-text);
            animation: bounce 1.4s infinite ease-in-out both;
        }

        .loading-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .loading-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes bounce {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                padding: 1rem;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .section-title {
                margin-bottom: 0.75rem;
            }

            .sidebar-nav {
                flex-direction: row;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }

            .nav-item {
                white-space: nowrap;
            }

            .main-content {
                padding: 1rem;
            }

            .message {
                max-width: 90%;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <h2 class="section-title">Resume Analyzer</h2>

            <!-- Navigation -->
            <div class="sidebar-nav">
                <a href="#" class="nav-item">
                    <span class="nav-icon">ðŸ“Š</span>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">ðŸ“š</span>
                    <span>Resume Insights</span>
                </a>
                <a href="#" class="nav-item">
                    <span class="nav-icon">ðŸŽ“</span>
                    <span>Course Recommendations</span>
                </a>
                <a href="#" class="nav-item active">
                    <span class="nav-icon">ðŸ’¬</span>
                    <span>Resume Assistant</span>
                </a>
            </div>
        </div>

        <div class="main-content">
            <!-- Chat Container -->
            <div class="chat-container">
                <div class="chat-header">
                    <svg class="chat-header-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="2">
                        <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"></path>
                    </svg>
                    <span>Resume Assistant</span>
                </div>

                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        Hello! I'm your resume assistant. I can help you analyze your resume, suggest improvements, and
                        answer career-related questions. Upload your resume to get started.
                        <div class="message-time" id="welcomeTime"></div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <div class="uploaded-files" id="uploadedFilesContainer"></div>

                    <div class="chat-input-wrapper">
                        <button type="button" class="file-upload-btn" id="fileUploadBtn" title="Upload Resume">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            <input type="file" id="fileInput" name="documents" accept=".pdf,.doc,.docx" multiple
                                style="display: none;">
                        </button>

                        <div class="chat-input-area">
                            <textarea class="chat-input" id="chatInput"
                                placeholder="Ask a question about your resume..." rows="1"></textarea>
                        </div>

                        <button type="button" class="send-btn" id="sendBtn" disabled>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Set welcome time
        document.getElementById('welcomeTime').textContent = formatTime(new Date());

        const uploadedFiles = [];
        const fileInput = document.getElementById('fileInput');
        const fileUploadBtn = document.getElementById('fileUploadBtn');
        const sendBtn = document.getElementById('sendBtn');
        const chatInput = document.getElementById('chatInput');
        const chatMessages = document.getElementById('chatMessages');
        const uploadedFilesContainer = document.getElementById('uploadedFilesContainer');

        // Helper: format time
        function formatTime(date) {
            return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }

        // Helper: add message to chat
        function addMessage(sender, text) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}-message`;
            msgDiv.innerHTML = `
                ${text}
                <div class="message-time">${formatTime(new Date())}</div>
            `;
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return msgDiv;
        }

        // File upload handling
        fileUploadBtn.addEventListener('click', () => fileInput.click());

        fileInput.addEventListener('change', async (e) => {
            const files = e.target.files;
            if (!files || files.length === 0) return;

            // Process each file
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                const validTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];

                if (!validTypes.includes(file.type)) {
                    addMessage('ai', `Sorry, "${file.name}" is not a valid file type. Please upload a PDF or Word document.`);
                    continue;
                }

                uploadedFiles.push(file);
            }

            updateUploadedFilesDisplay();

            if (uploadedFiles.length > 0) {
                sendBtn.disabled = false;

                const loadingMsg = addMessage('ai', 'Uploading your resume...');

                // Simulate upload process (in a real app, this would be an actual file upload)
                setTimeout(() => {
                    chatMessages.removeChild(loadingMsg);
                    addMessage('ai', `I've received your resume${uploadedFiles.length > 1 ? 's' : ''}. You can now ask me questions about it or request an analysis.`);
                }, 1500);
            }

            e.target.value = '';
        });

        function updateUploadedFilesDisplay() {
            uploadedFilesContainer.innerHTML = '';

            if (uploadedFiles.length === 0) {
                uploadedFilesContainer.style.display = 'none';
                return;
            }

            uploadedFilesContainer.style.display = 'flex';

            uploadedFiles.forEach((file, index) => {
                const fileExt = file.name.split('.').pop().toLowerCase();
                const icon = fileExt === 'pdf' ? 'ðŸ“•' : 'ðŸ“˜';

                const pill = document.createElement('div');
                pill.className = 'file-pill';
                pill.innerHTML = `
                    <span class="file-icon">${icon}</span>
                    <span>${file.name}</span>
                    <span class="file-remove" data-index="${index}" title="Remove file">Ã—</span>
                `;
                uploadedFilesContainer.appendChild(pill);

                pill.querySelector('.file-remove').addEventListener('click', () => {
                    uploadedFiles.splice(index, 1);
                    updateUploadedFilesDisplay();

                    if (uploadedFiles.length === 0 && chatInput.value.trim() === '') {
                        sendBtn.disabled = true;
                    }
                });
            });
        }

        // Enable/disable send button based on input
        chatInput.addEventListener('input', () => {
            sendBtn.disabled = chatInput.value.trim() === '' && uploadedFiles.length === 0;

            // Auto-expand textarea
            chatInput.style.height = 'auto';
            chatInput.style.height = `${Math.min(chatInput.scrollHeight, 150)}px`;
        });

        // Sample responses for demo purposes
        const sampleResponses = [
            "Based on your resume, I notice you have experience in web development. Your strongest skills appear to be React, Node.js, and database management. To make your resume stronger, consider adding specific metrics or achievements to showcase the impact of your work.",

            "Looking at your experience section, I see you've worked at three companies over the past 5 years. Your career progression shows growth in responsibilities. One suggestion would be to highlight leadership experiences more prominently, as they can make your profile stand out to potential employers.",

            "I noticed your resume doesn't include a summary section. Adding a brief professional summary at the top can quickly communicate your value proposition to employers and help you stand out.",

            "Your education section is well-structured, but you might want to consider moving it below your work experience since you have several years of professional experience. This puts more emphasis on your practical skills rather than academic achievements.",

            "The skills section on your resume could be more effectively organized. Consider grouping similar skills together (e.g., programming languages, soft skills, tools) and highlighting the ones most relevant to the positions you're targeting."
        ];

        // Send message function
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message && uploadedFiles.length === 0) return;

            // Add user message to chat
            addMessage('user', message || "Please analyze my resume.");

            // Clear input and reset height
            chatInput.value = '';
            chatInput.style.height = 'auto';
            sendBtn.disabled = true;

            // Show typing indicator
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'loading-dots';
            loadingDiv.innerHTML = `
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            `;
            chatMessages.appendChild(loadingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Simulate response (in a real app, this would be an API call)
            setTimeout(() => {
                chatMessages.removeChild(loadingDiv);

                // Select a sample response or generate based on question
                let response;

                if (message.toLowerCase().includes('skill') || message.toLowerCase().includes('skills')) {
                    response = sampleResponses[4];
                } else if (message.toLowerCase().includes('education')) {
                    response = sampleResponses[3];
                } else if (message.toLowerCase().includes('summary')) {
                    response = sampleResponses[2];
                } else if (message.toLowerCase().includes('experience')) {
                    response = sampleResponses[1];
                } else if (!message || message.toLowerCase().includes('analyze')) {
                    response = sampleResponses[0];
                } else {
                    // Default response for other questions
                    response = "I'd be happy to help with that. To give you the most accurate advice, I'd need to analyze your specific resume content. Based on typical resumes, I can suggest focusing on quantifiable achievements and tailoring your resume to the specific job you're applying for.";
                }

                addMessage('ai', response);
            }, 2000);
        }

        // Event listeners for sending messages
        sendBtn.addEventListener('click', sendMessage);

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Initialize UI
        uploadedFilesContainer.style.display = 'none';
    </script>
</body>

</html>